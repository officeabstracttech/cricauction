CREATE SCHEMA `cricauction` ;


CREATE  TABLE `cricauction`.`user_master` (
  `id` INT NOT NULL AUTO_INCREMENT ,
  `email_id` VARCHAR(100) NOT NULL ,
  `phone_no` VARCHAR(20) NULL ,
  `pass` VARCHAR(100) NULL ,
  `user_name` VARCHAR(200) NULL ,
  `role` INT NULL ,
  `status` INT NULL ,
  PRIMARY KEY (`id`) )
COMMENT = 'This table contents all the information of user. All Players, tournment creater and team data is been store in this table. Role defines that if 1 then tournment creator, 2 for team login and 3 for player.(0 for administrator) . Status field will enable and disable the login process of the particular user.';


ALTER TABLE `cricauction`.`user_master` ADD COLUMN `process` INT NULL  AFTER `status` ;




CREATE  TABLE `cricauction`.`tournment_master` (
  `id` INT NOT NULL AUTO_INCREMENT ,
  `tournment_name` VARCHAR(500) NULL ,
  `max_point` INT NULL ,
  `base_point` INT NULL ,
  `max_player` INT NULL ,
  `tournment_logo` VARCHAR(200) NULL ,
  `process` INT NULL ,
  `status` INT NULL ,
  PRIMARY KEY (`id`) )
COMMENT = 'This table is for storing data of tournment';


ALTER TABLE `cricauction`.`tournment_master` ADD COLUMN `email_id` VARCHAR(200) NULL  AFTER `tournment_logo` , ADD COLUMN `phone_no` VARCHAR(20) NULL  AFTER `email_id` ;

ALTER TABLE `cricauction`.`tournment_master` ADD COLUMN `pass` VARCHAR(100) NULL  AFTER `phone_no` ;


CREATE  TABLE `cricauction`.`team_master` (
  `id` INT NOT NULL AUTO_INCREMENT ,
  `tournment_id` INT NULL ,
  `team_name` VARCHAR(400) NULL ,
  `team_logo` VARCHAR(500) NULL ,
  `team_points` INT NULL ,
  `players_taken` INT NULL ,
  `status` INT NULL ,
  PRIMARY KEY (`id`) )
COMMENT = 'This table store all the details of a team';



ALTER TABLE `cricauction`.`team_master` ADD COLUMN `phone_no` VARCHAR(20) NULL  AFTER `team_logo` , ADD COLUMN `pass` VARCHAR(100) NULL  AFTER `phone_no` ;


CREATE  TABLE `cricauction`.`player_mapping_master` (
  `id` INT NOT NULL AUTO_INCREMENT ,
  `player_id` INT NULL ,
  `team_id` INT NULL ,
  `tournment_id` INT NULL ,
  `sold_status` INT NULL ,
  `sold_points` INT NULL ,
  PRIMARY KEY (`id`) )
COMMENT = 'This table map the player with the team';
